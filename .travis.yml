language: node_js
node_js:
- node
- lts/*
script:
- node ./internals/scripts/generate-templates-for-linting
- npm test -- --maxWorkers=4
- npm run build
before_install:
- export CHROME_BIN=chromium-browser
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
notifications:
  email:
    on_failure: change
after_success: npm run coveralls
cache:
  directories:
  - node_modules
deploy:
  provider: heroku
  api_key:
    secure: S0gcOLvhMaShNed/P3HJfb1Q6BkVBFiupqqrMgyxrzUZv33ZOcg3mfnn5FpbGneVj3MNFhe6RdQnvhOP+CEzF9neX49kuGc7WZfaRbyFgaHlMSVL6e0zhkaqn6njI6pGWmGgMw3Be1HqZehCLSwUMKuAmW37pJOKGuaSagKCJj48I/xdzaLRf6PfHMRE9iromYnflzs6F1+IlMptV9uf8c9LdNQnJh52tDmoiLL9G/ok0sb1hef74YKVQliUpcrINpw5xoLFN78RR0ZxPli63DVOkYlTNLxqwDrDf0gP2ql4vx7ZcKittJy0C8iWUEta0rzY6shpnlKXrKYfBHlxD0IGwGBNN4Jwz3M4HVaa1/ML9EE59MhwkfATOMRvhL+ZEcuSTA7L1jucGXX/d0u5V1MkCIs7tqynbRvd0oYWQMl+wgokMD9Oj9sfvMDtgoEuYmjbrO421NgGQmmX2S6BCEYBXEQypPU4lhLoFGHLs572JBHZs16w7ILDnczQrjYVCu+imeSowJloqPre0DCaxRiPI+kZMu+oFt65OCDUcM7f4rTjrUCnnJHOIjOF3PmJDJBmUnoe0sAHEaZ98kOVTr3D/xkICwiWm9bVTlgHWFDXc2yN2gLxRbXgACDh5BJIy7wcNxWpwE1hamLFkTtx7jWV/Y9r9w7Dj30edjJIzfQ=
